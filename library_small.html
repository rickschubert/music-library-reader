
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Great American Songbook</title>

	<style>

#songLibrary {
  border-collapse: collapse;
  width: 100%;
  border: 1px solid #ddd;
  border-left: 0px;
  border-right: 0px;
  font-size: 16px;
  /* display: none; */
}

#songLibrary th, #songLibrary td {
  text-align: left;
  padding: 12px;
}

#songLibrary tr {

  border-bottom: 1px solid #ddd;
}

#songLibrary tr.header, #songLibrary tr:hover {
  background-color: #91c220;
}

#title-heading {
	width: 40%;
}

#artist-heading, #album-heading {
	width: 30%;
}

#filteringMessage {
	visibility: hidden;
}

body {
	background-color: #FFFFCC;
	font-family: sans-serif;
}
	</style>
</head>
<script>
	function filterBy(type) {
	  const input = document.getElementById(type + '-filter');
	  const filter = input.value.toUpperCase().trim();
	  const table = document.getElementById("songLibrary");
	  const tr = table.getElementsByTagName("tr");

	  for (i = 0; i < tr.length; i++) {
		const td = tr[i].getElementsByClassName('table-' + type)[0];
		if (td) {
		  const txtValue = td.textContent || td.innerText;
		  if (txtValue.toUpperCase().trim().indexOf(filter) > -1) {
			tr[i].style.display = "";
		  } else {
			tr[i].style.display = "none";
		  }
		}
	  }
	}

	function filterFromInputs() {
		// const filteringMessage = document.getElementById('filteringMessage');
		// console.log(filteringMessage.style)
		// console.log(filteringMessage.style.display)
		// // filteringMessage.style.display = "table";

		const types = ["artist", "title", "album"]

		const table = document.getElementById("songLibrary");
		const tr = table.getElementsByTagName("tr");

		const artistInput = document.getElementById('artist-filter');
		const artistFilter = artistInput.value.toUpperCase().trim();
		const titleInput = document.getElementById('title-filter');
		const titleFilter = titleInput.value.toUpperCase().trim();
		const albumInput = document.getElementById('album-filter');
		const albumFilter = albumInput.value.toUpperCase().trim();

		for (i = 0; i < tr.length; i++) {
			const artistTd = tr[i].querySelector('.table-artist');
			const titleTd = tr[i].querySelector('table-title');
			const albumTd = tr[i].querySelector('table-album');

			if (artistTd) {
				const txtValue = (artistTd.textContent || artistTd.innerText).toUpperCase();
				if (!txtValue.includes(artistFilter)) {
					tr[i].style.display = "none";
				} else {
					tr[i].style.display = "";
				}
			}

			if (titleTd) {
				const txtValue = (titleTd.textContent || titleTd.innerText).toUpperCase();
				if (!txtValue.includes(titleFilter)) {
					tr[i].style.display = "none";
				} else {
					tr[i].style.display = "";
				}
			}

			if (albumTd) {
				const txtValue = (albumTd.textContent || albumTd.innerText).toUpperCase();
				if (!txtValue.includes(albumFilter)) {
					tr[i].style.display = "none";
				} else {
					tr[i].style.display = "";
				}
			}
		}

		// filteringMessage.style.visibility = "hidden";
	}
</script>
<body>
<button id="startFiltering" onclick="filterFromInputs()">Filter down</button>
<div id="filteringMessage">Filtering titles... may take a while.</div>
<table id="songLibrary">
	<tr class="header">
		<th id="title-heading">Title<br><input id="title-filter" type="text"></input></th>
		<th id="artist-heading">Artist<br><input id="artist-filter" type="text"></input></th>
		<th id="album-heading">Album<br><input id="album-filter" type="text"></input></th>
    </tr>
    <tr><td class="table-title">Ça ira</td><td class="table-artist">Joyce Jonathan</td><td class="table-album">Caractère</td></tr><tr><td class="table-title">Ça ira</td><td class="table-artist">Joyce Jonathan</td><td class="table-album">Caractère</td></tr><tr><td class="table-title">Ödkraft</td><td class="table-artist">Supershirt</td><td class="table-album">8000 Mark</td></tr><tr><td class="table-title">Ödkraft</td><td class="table-artist">Supershirt</td><td class="table-album">8000 Mark</td></tr><tr><td class="table-title">Über Alles</td><td class="table-artist">Mediengruppe Telekommander</td><td class="table-album">Einer Muss in Führung Gehen</td></tr><tr><td class="table-title">Über Alles</td><td class="table-artist">Mediengruppe Telekommander</td><td class="table-album">Einer Muss in Führung Gehen</td></tr><tr><td class="table-title">Überall Menschen</td><td class="table-artist">Supershirt</td><td class="table-album">8000 Mark</td></tr><tr><td class="table-title">Überall Menschen</td><td class="table-artist">Supershirt</td><td class="table-album">8000 Mark</td></tr><tr><td class="table-title">Šárka</td><td class="table-artist">Bedřich Smetana</td><td class="table-album">Mein Vaterland</td></tr><tr><td class="table-title">Šárka</td><td class="table-artist">Bedřich Smetana</td><td class="table-album">Mein Vaterland</td></tr
</table>
<script>
	// self executing function here
	(function() {
		document.getElementById('songLibrary').style.display = "table";
	})();
	</script>
</body>
</html>

